<%#
  Reusable confirmation modal component

  Usage:
  <%= render 'shared/confirmation_modal',
      modal_id: 'deleteEventModal',
      title: 'Delete Event',
      message: 'Are you sure you want to delete this event?',
      confirm_text: 'Delete Event',
      confirm_class: 'btn-danger',
      confirm_url: event_path(@event),
      confirm_method: :delete %>

<div class="modal fade" id="<%= modal_id %>" tabindex="-1" aria-labelledby="<%= modal_id %>Label" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-0">
        <h5 class="modal-title" id="<%= modal_id %>Label">
          <i class="bi bi-exclamation-triangle-fill text-warning me-2"></i>
          <%= title %>
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <p class="mb-0"><%= message %></p>
        <% if defined?(details) && details.present? %>
          <div class="mt-3 p-3 bg-light rounded">
            <small class="text-muted"><%= details %></small>
          </div>
        <% end %>
      </div>

      <div class="modal-footer border-0">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
          <i class="bi bi-x me-1"></i>Cancel
        </button>

        <%= button_to confirm_url,
            method: confirm_method,
            class: "btn #{confirm_class}",
            data: { 'bs-dismiss': 'modal' } do %>
          <i class="bi bi-trash me-1"></i>
          <%= confirm_text %>
        <% end %>
      </div>
    </div>
  </div>
</div>

<style>
  .modal-content {
    border: none;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  }

  .modal-header {
    background-color: #f8f9fa;
  }

  .btn-danger {
    background-color: #dc3545;
    border-color: #dc3545;
  }

  .btn-danger:hover {
    background-color: #c82333;
    border-color: #bd2130;
  }
</style>